apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: pvc-chonker-mutating-webhook-configuration
webhooks:
- name: mpvc.pvc-chonker.io
  clientConfig:
    service:
      name: pvc-chonker-webhook-service
      namespace: pvc-chonker-system
      path: "/mutate--v1-persistentvolumeclaim"
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVBRENDQXVpZ0F3SUJBZ0lVV2dlYW1JM2NVV3paQlRSQ3R6dTUxVkM2VFFjd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1BURTdNRGtHQTFVRUF3d3ljSFpqTFdOb2IyNXJaWEl0ZDJWaWFHOXZheTF6WlhKMmFXTmxMbkIyWXkxagphRzl1YTJWeUxYTjVjM1JsYlM1emRtTXdJQmNOTWpVeE1qSTVNRGcxT1RRNVdoZ1BNakV5TlRFeU1EVXdPRFU1Ck5EbGFNRDB4T3pBNUJnTlZCQU1NTW5CMll5MWphRzl1YTJWeUxYZGxZbWh2YjJzdGMyVnlkbWxqWlM1d2RtTXQKWTJodmJtdGxjaTF6ZVhOMFpXMHVjM1pqTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQwpBUUVBb1A2Y09PdjVTaWJFWllJQm4vbnI2czgwNGhEb2dnQlFPUVlsQVA4U2QrdDF2WDBqRGZuTW1UOXhsQ2liCjVURmZ2dzBuUzhpZmEyNkhTZHZwWmQvMExYZmtscnJDS3hHcEpYVkdSSWFxTUY1ZFZyeW1wZ2JTaWZIeDNCcmUKVVZhVnBxZjNxbkxkblExNjFXalFVUUJOQ0dBR0pEdkVPb2RwL0ZtWUVibTdnZ2R4VDhQdDFsMnNaN0FxaU00bQpqQTdPcXhiWUM4S1ZzdFpXTTd1aHNHWktOWEdIY2g5bDZpeWZkSHdPdGFXRjM0aG5ScFY4aVVyaGUrb252WjVBCnl6SjFqcVRnY1pkSmsrQkc4YWVvcm9pYmVMaHVxUjVmaVdqaTk1WHFqMks3NUlJSEpLSTR0ODNMRXJKY2VaVXQKelBDa2JsRlJtRHVEa3hoaHFkTkZySkpWYlFJREFRQUJvNEgxTUlIeU1CMEdBMVVkRGdRV0JCVFFicEtJaWo1aAprRGFGSEZzM1IxeHMrblZaNVRBZkJnTlZIU01FR0RBV2dCVFFicEtJaWo1aGtEYUZIRnMzUjF4cytuVlo1VEFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUlHZUJnTlZIUkVFZ1pZd2daT0NNbkIyWXkxamFHOXVhMlZ5TFhkbFltaHYKYjJzdGMyVnlkbWxqWlM1d2RtTXRZMmh2Ym10bGNpMXplWE4wWlcwdWMzWmpna0J3ZG1NdFkyaHZibXRsY2kxMwpaV0pvYjI5ckxYTmxjblpwWTJVdWNIWmpMV05vYjI1clpYSXRjM2x6ZEdWdExuTjJZeTVqYkhWemRHVnlMbXh2ClkyRnNnaHR3ZG1NdFkyaHZibXRsY2kxM1pXSm9iMjlyTFhObGNuWnBZMlV3RFFZSktvWklodmNOQVFFTEJRQUQKZ2dFQkFINXdDTDUwcnpaRHJqWUwwYlMyaWVJQXdsZVpuT3BiL1YrbStXdXlHemVRRGU3S09FT0x2OVp1WkhFaQptVmhDRDdWbWc4WFJXck9TVEttMkc3dlZiZjhhUUx2WlZiWXZnWlJrU2l5YjJPRml5Y3JCWWdlOWNwSjREc0ZtCktKYk9KcWNzQ0xuNlI1MGI2RTF6SXFtNGljNXJIaUhkb29mWUxSUHEwdVpiODlvd1BFVW9mSnZLNS9qWDB2bUgKVFNmWUh0Y1A0ekdyT3ZNYXZGYU81cTZZcDFhZStlNmY4bm0wWkIrQkZ0bUJEZnRXSEFYS3QwdkJOOEFYelpKUgpGdjZaeUsvaElqdFFlNThoN1hnekhRb1EzV2o2TThKZXdJUkd4N0lZTFR5amQ3MzJjT0Rla2NlcjFnZSt4S0d2CnkyaUdsZnRIbS9veENPeC9uamtYRnVRZXFxMD0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  rules:
  - operations: ["CREATE", "UPDATE"]
    apiGroups: [""]
    apiVersions: ["v1"]
    resources: ["persistentvolumeclaims"]
  admissionReviewVersions: ["v1"]
  sideEffects: None
  failurePolicy: Ignore  # Allow PVC operations to continue if webhook is unavailable
